<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0b0b0b" />
  <title>5 o’clock — Tea</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <style>
    :root{ --brand:#111014; --accent:#A01226; --muted:#6B7280; --bg:#0E0D12; --card:#16151c; }
    html,body{margin:0;padding:0;background:var(--bg);color:#e5e7eb;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;}
    .container{max-width:1000px;margin:0 auto;padding:16px;}
    .brand{font-family:"Playfair Display",serif;letter-spacing:.5px}
    .btn{display:inline-flex;align-items:center;gap:.5rem;border:1px solid #2b2b35;background:#1c1b22;color:#fff;padding:.7rem 1rem;border-radius:12px;cursor:pointer;transition:.2s}
    .btn:hover{transform:translateY(-1px);}
    .btn-primary{background:var(--accent);border-color:var(--accent)}
    .chip{display:inline-block;padding:.25rem .5rem;border:1px solid #2b2b35;border-radius:999px;color:#cbd5e1;background:#14131a}
    .card{background:var(--card);border:1px solid #222231;border-radius:16px;padding:16px}
    .row{display:flex;gap:16px;flex-wrap:wrap}
    .col{flex:1 1 280px}
    .muted{color:#94a3b8}
    .fixedbar{position:sticky;top:0;z-index:40;backdrop-filter:saturate(1.5) blur(8px);background:rgba(14,13,18,.7);border-bottom:1px solid #232332}
    a{color:#d1d5db;text-decoration:none}
    a:hover{text-decoration:underline}
    .price{font-weight:700}
    .sku-title{font-size:1.15rem;font-weight:700}
    img.prod{width:100%;height:180px;object-fit:cover;border-radius:12px;border:1px solid #232332}
    .hero{padding:72px 0 16px;text-align:center}
    .hero h1{font-family:"Playfair Display",serif;margin:0 0 8px;font-size:2rem}
    .hero p{margin:0;color:#cbd5e1}
  </style>
</head>
<body>

<!-- Sticky top bar -->
<div class="fixedbar">
  <div class="container" style="display:flex;align-items:center;justify-content:space-between;gap:12px;padding:.6rem 16px;">
    <div class="brand" style="font-size:1.2rem">5 o’clock</div>
    <div style="display:flex;align-items:center;gap:8px;flex-wrap:wrap">
      <a class="chip" href="https://www.instagram.com/bangkok_tea_leaf" target="_blank" rel="noopener">Instagram</a>
      <a class="chip" href="mailto:5oclock@gmail.com">Email</a>
      <a id="line-cta" class="btn btn-primary" href="https://line.me/R/ti/p/@924uwcib" target="_blank" rel="noopener">Order via LINE</a>
    </div>
  </div>
</div>

<!-- Simple hero -->
<section class="hero container">
  <h1>Small‑batch flavored loose‑leaf tea</h1>
  <p>Pickup Ramkhamhaeng 2, Indy 38/71 • Delivery via Grab/Kerry</p>
</section>

<!-- Products -->
<div class="container" id="products">
  <h2 class="brand" style="margin:24px 0 8px;font-size:1.8rem">Shop teas</h2>
  <div class="row">

    <!-- SKU 1 -->
    <div class="col">
      <div class="card" data-sku="WILD-CHERRY-50">
        <img class="prod" src="https://raw.githubusercontent.com/terentevmikhail87/5O-CLOCK/main/assets/wild_cherry.jpg" alt="Wild Cherry tea">
        <div class="sku-title">Wild Cherry — 50 g</div>
        <div class="muted" style="margin:.25rem 0 8px">Black tea with cherry pieces • 3–6 min • 95°C</div>
        <div class="price">195 THB</div>
        <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap">
          <button class="btn" data-action="add" data-sku="WILD-CHERRY-50">Add to cart</button>
          <button class="btn" data-action="preorder" data-sku="WILD-CHERRY-50">Pre‑order</button>
        </div>
        <div class="muted" data-signal="state" style="margin-top:8px"></div>
      </div>
    </div>

    <!-- SKU 2 -->
    <div class="col">
      <div class="card" data-sku="TAIGA-75">
        <img class="prod" src="https://raw.githubusercontent.com/terentevmikhail87/5O-CLOCK/main/assets/taiga_blend.jpg" alt="Taiga Blend tea">
        <div class="sku-title">Taiga Blend — 75 g</div>
        <div class="muted" style="margin:.25rem 0 8px">Black tea, blackberries, lingonberry leaves, currant</div>
        <div class="price">275 THB</div>
        <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap">
          <button class="btn" data-action="add" data-sku="TAIGA-75">Add to cart</button>
          <button class="btn" data-action="preorder" data-sku="TAIGA-75">Pre‑order</button>
        </div>
        <div class="muted" data-signal="state" style="margin-top:8px"></div>
      </div>
    </div>

  </div>
</div>

<!-- Cart -->
<div class="container" id="cart">
  <h3 class="brand" style="margin:24px 0 8px;font-size:1.4rem">Your Cart</h3>
  <div id="cart-list" class="card muted">No items yet</div>
  <div style="display:flex;gap:8px;margin-top:12px">
    <button class="btn" id="checkout-line">Checkout via LINE</button>
    <button class="btn" id="cart-clear">Clear</button>
  </div>
</div>

<!-- Shipping estimator -->
<div class="container" id="shipping">
  <h3 class="brand" style="margin:24px 0 8px;font-size:1.4rem">Delivery Estimator</h3>
  <div class="card">
    <label class="muted">Distance (km from Ramkhamhaeng 2, Indy 38/71): </label>
    <input id="km" type="number" min="0" step="0.1" style="padding:.5rem;border-radius:12px;border:1px solid #2b2b35;background:#121019;color:#fff" />
    <button class="btn" id="calc">Estimate</button>
    <div id="ship-out" class="muted" style="margin-top:8px"></div>
  </div>
</div>

<!-- Footer -->
<div class="container" style="margin:40px 0 80px">
  <div class="muted">Pickup point: Ramkhamhaeng 2, Indy 38/71 • Bangkok • Mon–Sat 10:00–19:00</div>
  <div class="muted" style="margin-top:6px">© 5 o’clock — small batches of flavored loose‑leaf tea</div>
</div>

<!-- Minimal JS: safe cursor fix + cart + LINE handoff + shipping -->
<script>
(function(){
  // Safe guard for any old mouse handlers
  document.addEventListener('mousemove', function(e){}, {passive:true});

  const state = { cart: [] };
  const $ = (sel,root=document)=>root.querySelector(sel);
  const $$ = (sel,root=document)=>Array.from(root.querySelectorAll(sel));
  const cartList = $('#cart-list');

  function renderCart(){
    if(!state.cart.length){ cartList.textContent = 'No items yet'; return; }
    cartList.innerHTML = state.cart.map(i => \`
      <div style="display:flex;justify-content:space-between;gap:8px;padding:6px 0;border-bottom:1px dashed #2b2b35">
        <span>\${i.name}</span><span>\${i.price} THB × \${i.qty}</span>
      </div>\`).join('');
  }

  function addToCart(sku){
    const card = document.querySelector(\`[data-sku="\${sku}"]\`);
    if(!card) return;
    const name = card.querySelector('.sku-title')?.textContent?.trim() || sku;
    const price = parseInt((card.querySelector('.price')?.textContent||'0').replace(/[^0-9]/g,''),10);
    const existing = state.cart.find(x=>x.sku===sku);
    if(existing){ existing.qty += 1; } else { state.cart.push({sku,name,price,qty:1}); }
    card.querySelector('[data-signal="state"]').textContent = 'Added to cart ✔';
    renderCart();
  }

  function markPreorder(sku){
    const card = document.querySelector(\`[data-sku="\${sku}"]\`);
    if(!card) return;
    card.querySelector('[data-signal="state"]').innerHTML = 'Marked as pre‑order • we’ll confirm ETA in LINE';
  }

  $$("button[data-action='add']").forEach(btn=>btn.addEventListener('click',()=>addToCart(btn.dataset.sku)));
  $$("button[data-action='preorder']").forEach(btn=>btn.addEventListener('click',()=>markPreorder(btn.dataset.sku)));

  $('#checkout-line')?.addEventListener('click',()=>{
    const lineBase = document.getElementById('line-cta')?.getAttribute('href') || 'https://line.me/R/ti/p/@924uwcib';
    const payload = encodeURIComponent(JSON.stringify({
      note: "5 o'clock order", ts: Date.now(), items: state.cart
    }));
    window.location.href = \`\${lineBase}?text=\${payload}\`;
  });

  $('#cart-clear')?.addEventListener('click',()=>{ state.cart = []; renderCart(); });

  const BASE = 25, PER_KM = 7, MIN = 39;
  $('#calc')?.addEventListener('click',()=>{
    const km = parseFloat($('#km').value || '0');
    if(!(km>=0)){ $('#ship-out').textContent = 'Enter distance in km'; return; }
    const est = Math.max(MIN, Math.round(BASE + PER_KM * km));
    $('#ship-out').textContent = \`Estimated delivery: ~\${est} THB (final price shown in LINE after address)\`;
  });

  renderCart();
})();
</script>

</body>
</html>
